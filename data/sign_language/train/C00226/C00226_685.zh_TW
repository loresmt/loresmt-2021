比較完整的一個判定
